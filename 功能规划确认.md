# GeoContacts⁺ Pro 功能规划确认文档

## 一、原有功能（保留不裁剪）

| 模块 | 功能 | 状态 |
|------|------|------|
| 地图视图 | 显示联系人位置、维度切换、搜索 | ✅保留 |
| 分类管理 | 工作/私人双维度分类树 | ✅保留 |
| 联系人管理 | 添加、编辑、删除联系人 | ✅保留 |
| 通信功能 | 打电话、导航（多地图） | ✅保留 |
| SOS功能 | 紧急呼叫弹窗 | ✅保留 |
| 时空轨迹 | 联系历史、热力图 | ✅保留 |

---

## 二、个人版Pro新增功能

### 2.1 时空通讯录增强

| 功能 | 需求说明 | 需要确认 |
|------|----------|----------|
| 导入/导出联系人 | 从手机通讯录导入，加密导出到本地文件 | 导出加密方式？ |
| 时空标签管理 | 自定义标签（如"家附近""公司同事"），批量操作 | 默认3个标签名称？ |
| 时空分组管理 | 自动分组+手动分组，按距离排序 | 无 |
| 人-位置-服务关联 | 关联常用位置（家/公司），显示实时距离 | 距离刷新频率？ |

### 2.2 GeoAI基础预测

| 功能 | 需求说明 | 需要确认 |
|------|----------|----------|
| 沟通预测 | 预测24小时内可能需要沟通的联系人（最多3个） | 预测算法简化版？ |
| 相遇预测 | 预测可能相遇的联系人、时间、地点 | 无 |

### 2.3 安全守护增强

| 功能 | 需求说明 | 需要确认 |
|------|----------|----------|
| SOS快捷触发 | 连续按电源键3次触发（需系统级权限） | APP内实现可行？ |
| 亲情守护 | 添加守护对象（最多3个），查看实时位置 | 无 |
| 安全区域 | 设置地理围栏，超出时提醒 | 无 |

### 2.4 隐私计算基础

| 功能 | 需求说明 | 需要确认 |
|------|----------|----------|
| 本地加密存储 | AES加密本地数据 | 无 |
| 授权管理 | 位置/联系人/通知权限细粒度控制 | 无 |
| 隐私政策 | 首次启动弹窗，用户协议 | 无 |
| 账号注销 | 删除所有本地数据 | 无 |

---

## 三、企业版新增功能

### 3.1 企业时空通讯录

| 功能 | 需求说明 | 需要确认 |
|------|----------|----------|
| 组织架构管理 | 部门/小组，层级显示（最多5级） | 无 |
| 员工时空管理 | 查看员工位置（需授权，仅工作期间） | 无 |
| 企业内部沟通 | 通话、消息、部门群聊 | 消息功能简化版？ |

### 3.2 外勤打卡

| 功能 | 需求说明 | 需要确认 |
|------|----------|----------|
| 打卡设置 | 时间段、打卡范围（≤500米） | 无 |
| 签到/签退 | 自动定位，范围内打卡 | 无 |
| 打卡记录 | 查看记录，补卡申请 | 无 |

### 3.3 客户位置管理

| 功能 | 需求说明 | 需要确认 |
|------|----------|----------|
| 客户信息管理 | 添加、编辑、删除客户 | 无 |
| 客户分组 | 潜在客户/老客户等自定义分组 | 无 |
| 路线导航 | 跳转高德地图查看路线 | 无 |

---

## 四、需要您确认的问题

### 问题1：SOS快捷触发方式
PRD要求"连续按电源键3次"触发SOS，这需要系统级权限（无障碍服务或系统签名），在普通APP中难以实现。

**建议方案：**
- A. 仅保留APP内SOS按钮（已实现）
- B. 添加音量键快捷方式（需要权限但可实现）
- C. 添加桌面小部件快捷触发
- D. 通知栏常驻快捷按钮

### 问题2：消息/群聊功能
企业版要求部门群聊功能，这需要完整的即时通讯后端。

**建议方案：**
- A. 简化版：仅支持系统短信发送（无群聊）
- B. 使用第三方IM SDK（如环信、融云）
- C. 暂时不做消息功能，仅保留通话

### 问题3：数据同步
企业版涉及组织架构、员工数据，需要后端支持。

**建议方案：**
- A. 纯本地版：企业数据本地存储，通过文件分享同步
- B. 简易后端：使用Firebase/Supabase等BaaS服务
- C. 自建后端：需要服务器部署

### 问题4：AI预测算法
沟通预测和相遇预测需要算法支持。

**建议方案：**
- A. 简化规则：基于最近联系频率简单排序
- B. 本地轻量模型：使用TensorFlow Lite
- C. 云端API：调用预测服务

---

## 五、我的建议

考虑到"能安装到安卓手机真实运行"和开发周期，建议：

1. **SOS功能**：保留APP内按钮 + 通知栏快捷方式
2. **消息功能**：使用系统短信，不做群聊
3. **企业数据**：纯本地版 + 文件导入导出同步
4. **AI预测**：简化规则版（基于频率和位置）

请您确认以上问题和建议，我将据此开始开发。
